# 입국심사

- 문제: https://www.acmicpc.net/problem/3079

## 시도 1: 실패

두 번째 예제를 살펴보자.
7개의 입국심사대가 있고, 10명의 친구들이 있다.

| T   | 2   | 3   | 3   | 4   | 6   | 8   | 9   |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 1s  | 1   | 2   | 3   | 4   | 9   | -   | -   |
| 2s  | 1   | 2   | 3   | 4   | 9   | -   | -   |
| 3s  | 5   | 2   | 3   | 4   | 9   | -   | -   |
| 4s  | 5   | 6   | 7   | 4   | 9   | -   | -   |
| 5s  | 8   | 6   | 7   | -   | 9   | -   | -   |
| 6s  | 8   | 6   | 7   | -   | 9   | -   | -   |
| 7s  | 10  | -   | -   | -   | -   | -   | -   |
| 8s  | 10  | -   | -   | -   | -   | -   | -   |

이런식으로 들어가야 심사를 마치는데 걸리는 시간이 최솟값이 될 것이다.

이걸 어캐 풀지..? 우선 인원 수의 최대 값이 10억이기 때문에, 완전탐색이 아닌 이분 탐색으로 풀어야 한다.
또한 `max(T) * m`이 총 소요시간의 최댓값이기 때문에, 이를 이용해 이분 탐색으로 풀어보려고 했다.
그러나, 최소 x초 이상이 걸릴텐 데, 최소 시간을 무슨 기준으로 잡아야할지가 살짝 막막했다.

한참 고민해보다가 답을 찾아봤다.

## 시도 2: 이분 탐색 -> 성공

> 정답 확인

```py
def binary_search(arr, m):
    start = min(arr) # 최소 시간: 가장 빠른 입국심사대가 걸리는 시간
    end = max(arr) * m # 최대 시간: 가장 늦은 입국심사대가 걸리는 시간의 m배

    result = end # 결과를 저장할 변수를 초기화

    while start <= end:
        mid = (start + end) // 2 # 가상으로 걸리는 시간
        available_people = 0 # 해당 시간으로 입국심사를 할 수 있는 사람 수

        # 각 입국심사대에서 mid 시간 동안 몇 명의 사람을 처리할 수 있는지 계산
        for i in range(len(arr)):
            available_people += mid // arr[i]

        if available_people >= m: # 가능한 사람 수가 목표인 m보다 크거나 같으면, 시간을 줄여보기 위해 end를 줄임.
            end = mid - 1
            result = min(mid, result)
        else: # 가능한 사람 수가 목표인 m보다 작으면, 시간을 늘려보기 위해 start를 늘림
            start = mid + 1

    return result

def main():
    n, m = read_int_list()
    counters = []

    for _ in range(n):
        t = read_int()
        counters.append(t)

    result = binary_search(counters, m)
    print(result)
```

1. 초기 end 값을 가장 느린 심사대에서 모든 사람이 심사를 받는데 걸리는 시간으로 설정
   - 최소 시간: min(T)
   - 최대 시간: max(T) \* m
2. 이진 탐색 수행
   - 주어진 시간으로 입국심사를 할 수 있는 사람의 수를 계산
   - 만약 계산된 사람 수가 목표 인원(M)보다 작다면, start 값을 mid + 1로 조정하여 더 많은 사람을 심사할 수 있는 시간을 찾음.
   - 그렇지 않다면, end 값을 mid - 1로 조정하여 시간을 줄여 더 적은 시간으로 목표 인원을 달성할 수 있는지 확인. 동시에 result 값을 mid로 업데이트
3. 최종적으로 result 값을 출력. 이 값은 최소 대기 시간을 나타냄.
